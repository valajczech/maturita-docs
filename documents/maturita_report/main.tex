\documentclass[12pt,a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage[sfdefault]{carlito}
%\usepackage[sfdefault]{ClearSans}
\usepackage[T1]{fontenc}
\usepackage[left=35mm,right=20mm,top=25mm,bottom=25mm]{geometry}
\usepackage[dvipsnames]{xcolor}
\usepackage[czech]{babel}
\usepackage{titling}
\usepackage{graphicx}
\usepackage{caption}
\usepackage[list=true]{subcaption}
\usepackage{acronym}
\usepackage{setspace}
\usepackage{indentfirst}
\usepackage{hyperref}
\usepackage{tabularx}
\usepackage{changepage}
\usepackage{tocloft}
\usepackage{array}
\usepackage{multirow}
\usepackage{listings}
\usepackage{tcolorbox}

\tcbuselibrary{listings,skins}  

\hypersetup{
    colorlinks=false,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
    pdftitle={Dlouhobá maturitní práce Vala Jiří},
    pdfpagemode=FullScreen,
}

% Colors
\definecolor{pojblue}{RGB}{31, 91, 157}

\definecolor{bashBackcolor}{RGB}{237, 237, 237}
\definecolor{bashKeyword}{RGB}{35, 83, 173}
% Styles
\lstdefinestyle{codeblock}{
     basicstyle=\sffamily\footnotesize\color{Black},
     keywordstyle=\color{bashKeyword},
     morekeywords={useradd, mkdir, ln, passwd, usermod, sudo, su, apt-get, wget, sh, git,node, npm, systemctl, cd, ls},
}


\usepackage{titlesec}
\titleformat{\chapter}
  {\normalfont\LARGE\bfseries\color{pojblue}}{\thechapter}{1em}{}
\titlespacing*{\chapter}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

\titleformat{\section}
  {\normalfont\Large\bfseries\color{pojblue}}{\thesection}{1em}{}
\titlespacing*{\section}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

\titleformat{\subsection}
  {\normalfont\large\bfseries\color{pojblue}}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries\color{pojblue}}{\thesubsubsection}{1em}{}
\titlespacing*{\subsubsection}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}


\graphicspath{ {./img/} }
\setlength{\parindent}{2em}
\setlength{\parskip}{0.1em}
\linespread{1.5}

\renewcommand\cftchapdotsep{\cftdotsep}
\renewcommand\cftchapleader{\cftdotfill{\cftchapdotsep}}

\setcounter{secnumdepth}{5}

\title{Fotografický web a kompletní administrační systém}
\author{Jiří Vala}
\date{}

\begin{document}
\renewcommand*\listfigurename{}
\renewcommand{\figurename}{Obr.}
\renewcommand\refname{}
\renewcommand{\contentsname}{\color{pojblue}Obsah}

\newtcblisting{bash}{
      enhanced,                             %%% needed for shadow
      arc=1mm,
      top=0mm,
      bottom=0mm,
      left=0mm,
      right=0mm,
      boxrule=0pt,
      colback=bashBackcolor,
      colframe=bashBackcolor,
      coltext=black,
      listing only,
      listing options={style=codeblock}
}


\begin{titlepage}
  \begin{adjustwidth}{-20mm}{-7.5mm} 
		\vspace*{-1.5cm}
		\noindent\includegraphics[width=\linewidth]{header.png}
	\end{adjustwidth}
	\begin{center}
		\vspace*{0.2cm}
    \color{pojblue}
		\Huge\textbf{MATURITNÍ ZKOUŠKA}
    \color{black}
    \vspace*{1cm} \\
		\large\emph{\textbf{PRAKTICKÁ ZKOUŠKA Z ODBORNÝCH PŘEDMĚTŮ}}
		\vspace*{1cm} \\
    \color{pojblue}
		\Large \textbf{Téma č.3} \\
    \vspace*{1cm}
		\Large \textbf{Fotografický web a kompletní administrační systém} \\
    \color{black}
		\vfill
		\normalsize
	\end{center}
	\begin{tabularx}{\textwidth}{l@{\hskip 0.5cm}XXl}
		Obor vzdělání: & \multicolumn{3}{c}{\textbf{18 – 20 – M/01 Informační technologie}} \\[10pt]
		Třída: & \textbf{4. IT} & Autor práce: & \textbf{Jiří Vala} \\[10pt]
		Školní rok: & \textbf{2021/22} & Vedoucí učitel práce: & \textbf{Ing. Jiří Sumbal}
		\vspace*{1cm}
	\end{tabularx}
\end{titlepage}

  \color{pojblue}
  \section*{Prohlášení autora}
  \color{black}
  \vfill
  „Prohlašuji, že jsem tuto práci vypracoval samostatně a použil jsem literárních pramenů a informací, které cituji a uvádím v seznamu použité literatury a dalších zdrojů informací.“ \\
	\vspace*{0.5cm} \\
	\renewcommand{\arraystretch}{2}
	\begin{tabularx}{\textwidth}{l@{\hskip 0.75cm}X@{\hskip 1.5cm}X@{\hskip 0.75cm}l}
		Ve Frýdku-Místku, dne: & \dotfill & \dotfill & podpis \\
	\end{tabularx}
  
  \clearpage
  \chapter*{Zadání práce}
  \begin{enumerate}
    \item Návrh a koncepce webu - shrnutí požadavků zákazníka a návrh řešení
    \item Použité platformy, technologie a software
    \item Vývoj webové stránky
    \item Vývoj administračního systému
    \item Hosting
    \item Vytvoření vlastního webového serveru a virtuálního webu na bázi virtuálního počítače
  \end{enumerate}
  \clearpage

  \section*{Anotace}
  Tato práce se zabývá průběhem vývoje kompletní webové stránky včetně administračního systému,
  se všemi aspekty komerčního projektu pro zákazníka, který ji bude využívat jako své virtuální portfolio 
  fotografií. Popisuje použité technologie a postupy ve vývoji spolu s konfigurací jednotlivých služeb klíčových ke spuštění celého projektu
  na produkční server a jeho správné a dlouhodobě nezávadné fungování. Dále obsahuje rozbory jednotlivých zprostředkovatelů privátních serverů,
  nebo také rozdíly mezi technologiemi použitých k vývoji. Práce je z větší části psána teoreticky a popisuje princip fungování webu a administračního systému,
  nicméně v rámci maturitní části je v osmé kapitole popsána detailní konfigurace virtuálního privátního serveru
  za účelem spuštění celého projektu pomocí softwarového webového serveru Nginx tak, aby byl přístupný z Internetu.
  \section*{Anotation}
  This thesis focuses on the development process of a web page, as well as its content management system with all aspects of a commercial project
  for a customer, who will use it as his virtual photography portfolio. It describes technologies and procedures used during the development 
  as well as the configuration of individual services mandatory for deploying the project to the production server and its long-term seamless functioning. Furthermore, the thesis contains 
  an analysis of individual cloud computing providers and also differences between technologies used during the development process. For the most parts, the thesis is written theoretically 
  and describes how the web page and the content management system works, however, for the needs of the maturita part, in the eighth chapter, there is a detailed configuration of the virtual private server, in order to deploy the project 
  using software webserver Nginx in a way so its accessible from the Internet.
  \section*{Klíčová slova}
  \noindent webová stránka; webová aplikace; administační systém; webová prezentace; webová galerie; vývoj; javascript; react; linux; webhosting
  
  \section*{Keywords}
  \noindent website; web application; content management system; web presentation; web gallery; development; javascript; react; linux; webhosting;  

  \clearpage
  
  \tableofcontents
 
  \clearpage

  \chapter{Vymezení pojmů}
  \begin{enumerate}
    \item \textbf{Adobe Flash player} - Bývalý počítačový program určený pro prohlížení multimediálního obsahu vytvořeného na zastaralé softwarové platformě Adobe Flash.
    \item \textbf{Algoritmus} - Proces jednotlivých příkazů za účelem splnění zadaného úkolu.
    \item \textbf{API} - \emph{API} je soubor procedur, funkcí a protokolů zajišťující komunikaci mezi dvěma platformami, které si vzájemně vyměňují data (například dvě rozdílné aplikace). K public \emph{API} má přístup kdokoliv, k private \emph{API} jen autentifikovaní uživatelé například pomocí unikátního ID tokenu.
    \item \textbf{Auth} - Autentizace.
    \item \textbf{Backend} -  Logická část aplikace nebo webu. Požadavky, které uživatel aplikace provede (například přejmenování záznamu v databázi) a data (například všechny záznamy), které si vyžádá, tento server nejdříve zpracuje, případně vytáhne z databáze a pak je odešle uživateli aplikace, která je následně zobrazí, či případně upraví v databázi.
    \item \textbf{Bundler} - Program, který vygeneruje jeden soubor scriptů (bundle) ze všech scriptů používaných v projektu. 
    \item \textbf{Cache} - Část paměti uchovávající data, která se použivají v aktuální iteraci programu.
    \item \textbf{CI/CD pipeline} - Představuje sérii kroků, které je nutné provést pro správné dodání nové verze softwaru.
    \item \textbf{Cloud Computing Provider} - Poskytovatel cloudových služeb a infrastruktury (serverů).
    \item \textbf{Cloud Storage} - Úložný prostor v cloudu. Nejčastěji se používá pro ukládání dokumentů a fotografií. Nejznámější je Google Drive.
    \item \textbf{Commit} - Potvrzení změn a jejich uložení do lokálního repozitáře verzovacího systému, který ji zařadí do historie změn.
    \item \textbf{Content Management System} - Administrační systém, je systém, který umožňuje manipulaci s daty a obsahem webové stránky či webové (ale i desktopové) aplikace.
    \item \textbf{Continuous Delivery} -  Proces, který umožňuje nepřetržité dodávání aktuální verze projektu k testování či produkčnímu spuštění. V praxi to znamená, že pokud tým vývojářů provede změnu a uloží ji do remote repositáře (místo pro ukládání zdrojových kódů v cloudu), tato změna se automaticky projeví (deployne) na produkční server (server, na kterém je spuštěna aktuální verze projektu a je poskytována uživatelům z venčí).
    \item \textbf{DDOS útok} - Distributed Denial Of Service - je útok jehož cílem je pomocí sítě mnoha virtuálních počítačů, které v jednu chvíli budou provádět požadavky na daný server, vyřadit tento server z provozu, jelikož nezvládne nápor takového počtu požadavků a zhroutí se.
    \item \textbf{Deploy} - Nasazení softwaru je v informatice souhrn všech činností, které připravují softwarový systém k použití.
    \item \textbf{Developer Experience} - Popisuje jednoduchost a intuitivu, kterou vývojáři zažívají během práce s určitým softwarem nebo nástrojem.
    \item \textbf{Devops} - Složenina anglických výrazů Development a Operations. Je to přístup k vývoji software, který zdůrazňuje komunikaci, spolupráci a integraci mezi vývojářem a odborníky na informační technologie z provozu. 
    \item \textbf{Element (\emph{HTML} dokumentu)} - \emph{HTML} dokument se skládá z elementů, jako jsou například \emph{div} a nebo \emph{section}.
    \item \textbf{Endpoint} - Koncový bod. 
    \item \textbf{Fetching} - Proces během kterého se ``stahují`` data z databáze. Tento anglický výraz doslova znamená ``přinést``.
    \item \textbf{Framework} - Jedná se o podpůrnou softwarovou strukturu, která zjednodušuje vývoj a organizaci projektu v daném jazyce. Může obsahovat další funkce, podpůrné programy nebo vzory a doporučené postupy ve vývoji.
    \item \textbf{Frontend} - Jedná se o grafické uživatelské rozhraní, v rámci webových aplikací a stránek většinou nejčastěji pomocí značkovacího jazyka \emph{HTML}, stylovacího jazyka \emph{CSS} a scriptovacího jazyka Javascript.
    \item \textbf{Hosting (Webhosting)} - Znamená pronájem prostoru na cizím webovém serveru za účelem spuštění webové stránky či aplikace. 
    \item \textbf{Knihovna} - Jedná se souhrn procedur a funkcí, často však také konstant a datových typů, které usnadňují vývojáři práci tím, že může použít již hotový kód.
    \item \textbf{Load Balancer} - Softwarový (ale existuje i hardwarový) nástroj k vyvažování náporu na část infrastruktury projektu, například webového serveru.
    \item \textbf{Open Source}- Jedná se o projekt s otevřeným zdrojovým kódem, což znamená, že na jeho vývoji se může podílet každý a každý si jej může stáhnout. Popularita open-source projektů v posledních letech velmi roste.
    \item \textbf{Out-of-the-box} - Předem připraveno. 
    \item \textbf{Pagination} - Jedná se o proces rozdělování obsahu na jednotlivé stránky a podstránky. Nejčastěji ji vidíme ve formě čísel na konci webové stránky.
    \item \textbf{Performance} - Výkon, výkonnost označuje měřítko pro určování funkčnosti webové stránky nebo aplikace.
    \item \textbf{Plugin} - Modul pro daný software.
    \item \textbf{Preprocessor} - Počítačový program, který zpracovává vstup tak, aby jej dále mohl zpracovat jiný program.
    \item \textbf{Pull} - Příkaz verzovacího systému git, díky kterému se stáhnou nejnovější změny z \emph{remote repozitáře} do \emph{lokálního repozitáře}.
    \item \textbf{Push} - Příkaz verzovacího systému git, díky kterému se nahrají nejnovější změny z \emph{lokálního repozitáře} do \emph{remote repozitáře}.
    \item \textbf{Push Notifikace}  - Notifikace, které se zobrazují uživateli na mobilním zařízení v notifikační listě nebo na zamykací obrazovce.
    \item \textbf{Repozitář} - Softwarový repozitář je v informatice označení pro místo, odkud mohou být staženy a nainstalovány softwarové balíčky.
    \item \textbf{Route} - Označení pro \emph{endpoint} (podstránku) React aplikace.
    \item \textbf{Routing} - Proces, pomocí kterého React aplikace rozhodne, na který \emph{endpoint} má uživatele poslat.
    \item \textbf{Runtime} - Běhové prostředí je v informatice skupina software, určená na podporu realizace počítačových programů napsaných v některém z programovacích jazyků.
    \item \textbf{Screenshot} - Snímek obrazovky.
    \item \textbf{Script} - Soubor kroků a příkazů, které \emph{shell} po spuštění \emph{scriptu} vykoná.
    \item \textbf{Shell} - Jedná se o vrstvu operačního systému, která provádí příkazy a spouští programy.
    \item \textbf{Single Page Application} - Jednostránková aplikace je webová aplikace nebo webová stránka, která komunikuje s uživatelem dynamickým přepisováním aktuální webové stránky novými daty z webového serveru, namísto výchozí metody webového prohlížeče načítání celých nových stránek.
    \item \textbf{Symlink} - Symbolický link odkazuje na jiný soubor nebo adresář. Odkaz je realizován jako malý speciální soubor, který obsahuje absolutní nebo relativní cestu k cílovému souboru.
  \end{enumerate}

  \clearpage
  \section{Seznam použitých zkratek}
  \begin{enumerate}
    \item \textbf{API} - Application programming interface
    \item \textbf{CD} - Continuous deployment/delivery
    \item \textbf{CI} - Continuous integratiaon
    \item \textbf{CLI} - Command line interface
    \item \textbf{CMS} - Content management system
    \item \textbf{CSS} - Cascading style sheet
    \item \textbf{DDOS} - Distributed denial of service
    \item \textbf{DMP} - Dlouhodobá maturitní práce
    \item \textbf{DOM} - Document object model
    \item \textbf{GNU} - GNU's not unix
    \item \textbf{GUI} - Graphical user interface
    \item \textbf{HTML} - Hypertext markup language
    \item \textbf{ISO} - Archive of contents
    \item \textbf{SSH} - Secure shell
    \item \textbf{SSL}  - Secure socket layers
    \item \textbf{UI/UX} - User interface/User experience
    \item \textbf{URL} - Uniform resource locator
    \item \textbf{VM} - Virtual machine
    \item \textbf{VPS} - Virtual private server
    \item \textbf{YAML} - YAML ain't markup language
  
  \end{enumerate}

  
  \chapter{Úvod}
  Pan Milan Bureš st. (dále jen fotograf nebo zákazník) je amatérský fotograf, který si již před pár lety
  nechal na zakázku vytvořit webovou stránku, na které by prezentoval své fotografie, zachycující
  náhodné okamžiky jeho života. Nicméně postupem času se jeho web i administrační systém stali
  zastaralými a bylo potřeba celý systém zmodernizovat i vzhledem k faktu, že jeho webová stránka
  fungovala pomocí \emph{Adobe Flash Player,} kterému skončila podpora a není již podporovaný
  moderními prohlížeči.
  Proto mě v rámci dlouhodobé maturitní práce zprostředkované mým garantem kontaktoval a
  požádal, zda-li bych jeho webovou prezentaci mohl zmodernizovat. Mým úkolem bylo vytvořit
  web, který bude sloužit jako virtuální galerie jeho fotografií a bude zobrazitelná a funkční na všech
  zařízeních a také administrační systém (dále jen \emph{CMS}), který bude umožňovat nahrávání, správu a
  manipulaci fotografií či alb, ve kterých se jednotlivé fotografie seskupují.
  V rámci mé maturitní práce bylo potřeba, aby projekt obsahoval i část jiného předmětu, než
  jen programování (celý systém jsem naprogramoval) a databáze (data a fotografie, které fotograf
  nahraje/uloží). Rozhodl jsem se tedy, že si vytvořím vlastní server běžící na operačním systému
  Linux, na kterém budu hostovat vlastní instanci celého systému a bude obsahovat funkcionalitu
  tzv. \emph{Continuous Deploymentu}, což přesně kopíruje funkcionality komerční instance projektu určené
  jen pro účely zákazníka.

  \chapter{Klíčové vlastnosti a požadavky projektu}
  Během vývoje webové prezentace byl kladen velký důraz na to, aby se co nejvíce podobala
  stávající verzi. Ne veškeré elementy webu byly replikovatelné a také jsem se chtěl co nejvíce řídit
  pravidly dobrého webu. Pro porovnání jsou zde \emph{screenshoty} jednotlivých webových stránek.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{milanburescz.png}
  \begin{center}
    Obr.1 - Původní webová stránka \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{dmp-bures.png}
  \begin{center}
    Obr.2 - Mnou vytvořená webová stránka  \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \section{Serverless architektura}
  Ačkoliv je samozřejmostí, že je jak webová prezentace, tak \emph{CMS} \emph{hostovaná} na nějakém fyzickém
  serveru, k požadavkům jako \emph{fetching} dat z databáze nepoužívám žádný další (backend) server. To
  znamená, že jsem sice odkázaný kompletně na svého \emph{cloud computing providera}, což je v mém
  případě Firebase od Google, ale na druhou stranu se nemusím (a ani zákazník) starat o údržbu
  vlastního serveru a ani jeho prvotní konfiguraci, vše je tzv. \emph{out-of-the-box} připravené k použití.
  Díky serverless architektuře jsem nemusel vytvářet žádný \emph{backend server} s \emph{private API}, pomocí
  kterého bych dostával data z databáze a \emph{cloud storage} do webové prezentace nebo
  administračního systému.
  Serverless architektura má mnoho výhod, jedna z těch hlavních a největších je samozřejmě
  absence potřeby konfigurovat a později spravovat vlastní server, jelikož to kompletně
  zprostředkovává daný \emph{cloud computing provider}, ale také celková cena ``pronájmu`` , jelikož ta se
  počítá podle počtu požadavků na danou službu (napříkad fetchování dat z databáze). Další je například bezpečnost,
  jelikož jsou tyto architektury zabezpečené například proti \emph{DDOS útokům}, ale také celková
  škálovatelnost celého systému. \emph{Cloud computing provider} automaticky škáluje prostředky (úložistě,
  výpočetní výkon apod.), které jsou k dispozici pro daný systém.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{non-vs-serverless.png}
  \begin{center}
    Obr.3 - Graf popisující škálovatelnost jednotlivých architektur  \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}
  Na grafu jde vidět, že pokud si zvolíme cestu non-serverless architektury, musíme s narůstajícími
  požadavky výkon zvyšovat, což ale v praxi znamená dočasné odstavení systému od provozu a
  dodatečnou správu hardwaru a tento výpočetní výkon se nemění, pokud se opět nevylepší,
  zatímco serverless řešení se automaticky škáluje.
  
  \section{Moderní technologie}
  Jelikož byl původní systém postaven na poměrně zastaralých
  technologiích, bylo potřeba modernizovat a proto jsem během vývoje používal jen ty nejmodernější a
  mezi vývojáři velmi rozšířené technologie.
  \subsection{Frontend a UI/UX}
  Jedná se o grafické uživatelské rozhraní, v rámci webových aplikací nejčastěji vytvořené pomocí
  značkovacího jazyka \emph{HTML}, stylovacího jazyka \emph{CSS} a scriptovacího jazyka Javascript. Nicméně v
  dnešní době na tyto technologie, které existují delší dobu, existuje mnoho \emph{frameworků} a \emph{knihoven},
  které nejen zjednodušují práci vývojářům, ale také celkově zlepšují performance aplikace či webu,
  které jsou díky tomu rychlejší, intuitivnější a použitelnější, což ve výsledku znamená, že například
  návštěvník webové stránky neztratí zájem, jelikož se stránka nebude dlouze načítat.
  \emph{UI} (user interface - uživatelské prostředí) a \emph{UX} (user experience - v hrubém překladu uživatelská
  zkušenost) je sada pravidel a procedur, které mají za úkol zjednodušit uživatelskou interakci se
  systémem tak, aby se uživateli produkt používal co nejsnáze a byl co nejvíce intuitivní. Během
  vývoje administračního systému jsem se inspiroval návrhem, který jsem našel na designovém
  webu Dribble.com.
  \subsubsection{HTML,CSS a Javascript}
  Jedná se o základní technologie, se kterými se dnes vyvíjejí webové stránky či aplikace a všechny
  ostatní technologie si z nich něco vzaly.
  Základním stavebním kamenem webové stránky i aplikace je \emph{HTML} dokument, který obsahuje
  všechny \emph{elementy}, které má web zobrazovat.
  Tyto elementy nastyluje stylovací jazyk \emph{CSS}, což znamená, že v \emph{CSS} dokumentu vybereme
  jednotlivý \emph{HTML} element pomocí \emph{CSS} selektoru a nastavíme mu například jinou barvu, šířku či
  například nastavíme animaci, která se spustí po tom, co uživatel přes tento \emph{element} přejede myší.
  Pokud má mít web nějakou funkcionalitu, například po zadaní dvou čísel vypočítat součet,
  použijeme Javacript. Ten je vlastně logickým mozkem celého webu a stará se o početní
  operace, získávání dat z databáze a jejich následné vložení do struktury \emph{HTML} dokumentu (DOM)
  nebo interaktivitu s uživatelem.
  \subsubsection{React.js}
  React.js je Javascriptový \emph{framework} vyvíjený firmou Meta (Facebook) a \emph{open-source} komunitou
  vývojářů po celém světě a k dnešnímu dni se jedná o nejvíce používaný \emph{framework} na světě pro
  jeho jednoduchost a modularitu.
  Je optimální pro tvorby \emph{SPA} (single page aplikace), jako je například administrační systém, protože
  velmi dobře pracuje s rychle měnícími se daty. Během vývoje React aplikace se celá aplikace
  rozdělí na jednotlivé komponenty, což má za následek jednoduchý a přehledný zdrojový kód a
  celou strukturu projektu, což je potřebné u velkého a komplexního projektu a já sám jsem během
  vývoje pocítil výrazný rozdíl v jednoduchosti vývoje oproti samotného vanilla Javascriptu (bez
  použití \emph{frameworku}).
  \vfill
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{reactCodeblock.png}
  \begin{center}
    Obr.4 - Ukázka vytvoření jednoduché komponenty pomocí \emph{frameworku} React.js \\
    (Zdroj: Autor práce)
  \end{center}

  \subsubsection{SASS/SCSS}
  \textbf{SASS} je \emph{preprocessor} stylovacího jazyka \emph{CSS}, což znamená, že styly psané v SCSS (sassy css)
  zpracuje a překompiluje do klasického \emph{CSS}.
  
  \textbf{SCSS} je další z mnoha stylovacích jazyků a jedná se o přímé rozšíření klasického \emph{CSS}, přidává
  například proměnné a nebo nesting. To znamená, že jednotlivé selektory můžeme psát přímo
  hierarchicky do sebe a pod sebe, díky čemuž jsou jednotlivé bloky stylů přehlednější. Dále tzv.
  mixins, což jsou vlastně bloky stylů, které se dají použít vícekrát.
  \vfill
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{cssCodeblock.png}
  \begin{center}
    Obr.5 - Ukázka stylování v CSS  \\
    (Zdroj: Autor práce)
  \end{center}

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{scssCodeblock.png}
  \begin{center}
    Obr.6 -  Ukázka stylování v SCSS  \\
    (Zdroj: Autor práce)
  \end{center}

  \subsection{Backend}
  \subsubsection{Node.js}
  Node.js je tzv. \emph{runtime} pro Javascript určený k vytváření vysoce škálovatelných \emph{backend} aplikací a
  webových serverů. Toto má společné např. s jazykem PHP, který má stejné zaměření. Javascript se
  tedy díky tomuto prostředí dá používat i na serveru a ne jen na druhém konci, u klienta. Avšak na
  rozdíl např. od zmíněného PHP je v Node.js kladen důraz na vysokou škálovatelnost, tzn.
  schopnost obsloužit mnoho připojených klientů naráz. Pro tuto vlastnost a vysokou výkonnost je
  dnes Node.js velmi oblíbený pro tvorbu tzv. \emph{API} serverů pro klientské single page aplikace rovněž v
  Javascriptu. 
  \subsubsection{Shell scripty}
  \emph{Shell} \emph{scripty} jsou sada příkazů, které po spuštění zpracovává a provede \emph{shell}. Význam těchto
  scriptů v rámci tohoto projektu jsou \emph{CI/CD} a \emph{DevOps} Operace, které jsou detailněji popsány v bodu 8.3.
  \subsubsection{Firebase}
  Firebase je \emph{cloud computing provider} nabízející služby jako \emph{hosting} webových stránek, \emph{hosting}
  databází, ale mnoho dalších jako je například machine learning, které však pro mě, vzhledem k
  povaze projektu, nejsou důležité. V tomto projektu zajišťuje všechny tyto zmíněné služby a nebýt
  Firebase, musel bych je všechny řešit sám, například pronájmem dalšího serveru, který by sloužil jako databázový apod.
  Databáze, které v rámci Firebase využívám, jsou tzv. Firestore a \emph{Cloud Storage}.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{firebaseDash.png}
  \begin{center}
    Obr.7 -  Nástěnka projektu ve Firebase Console \\
    (Zdroj: Autor práce)
  \end{center}
  Firestore je NO-SQL databáze, což znamená, že jednotlivé záznamy uchovává v datovém typu
  JSON, což je key-value datový typ, který slouží pro jednoduché popisování parametru daného
  předmětu, například člověka. Pro mé účely (ukládání záznamů o jednotlivých albech a fotografiích)
  je naprosto dostačující, ale jedinou nevýhodou je, že NO-SQL databáze neumí vytvářet relace
  mezi jednotlivými tabulkami, tudíž, když jsem chtěl vytvořit relaci mezi albem a jeho fotografiemi,
  musel jsem v albu vytvořit pole s názvem \emph{connectedImages} a v něm uchovávat \emph{ID} všech těchto
  fotografií.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{firestore.png}
  \begin{center}
    Obr.8 - Firebase Firestore záznamy jednotlivých alb \\
    (Zdroj: Autor práce)
  \end{center}

  \emph{Cloud Storage} je \emph{cloudové} úložiště pro všechny typy souborů. Vzhledem k tomu, že by měl pan
  fotograf nahrávat jen fotografie, ve \emph{scriptu}, který řídí nahrávání nových fotografií, je
  implementováno jednoduché ověření, zda-li soubor, který se snaží nahrát, je doopravdy typu
  obrázku/fotky. Nicméně kdyby si to zákazník přál, jsem schopen implementovat i nahrávání
  souborů jiných, než fotografií.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{imagesHelperCodeblock.png}
  \begin{center}
    Obr.9 - Ukázka fuknce, která zjišťuje, zda je nahraný soubor typu image \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \section{Hosting}
  \emph{Hosting} je zřízen pomocí Firebase Hosting nejen pro jednoduchou integraci s Github \emph{repozitářem}
  a předem připravenými \emph{CI/CD} \emph{pipelines}, ale také díky jeho ceně. V základním tarifu, jsou všechny služby
  Firebase (včetně \emph{hostingu}), zdarma. V rámci tohoto tarifu je však \emph{hosting} limitován na 10GB úložiště, tedy projekt 
  nesmí přesáhnout stanovenou kvótu spolu s maximálním trafficem 360MB/den. Samozřejmostí je však \emph{SSL} certifikát a možnost
  \emph{hostovat} více než jednu stránku v rámci projektu.

  Nastavení \emph{hostingu} je u Firebase velmi jednoduché a díky \emph{CLI} programu Firebase Tools je vývojář schopen
  \emph{deploynout} projekt jedním jednoduchým příkazem, nebo vytvořit \emph{CI/CD} \emph{script}, který projekt \emph{deployne} po 
  \emph{pushnutí} změn do \emph{repozitáře}. 

  \chapter{Struktura projektu}
  Projekt je rozdělen na dvě částí - komerční a maturitní (DMP). Co se týče části komerční, všechny
  služby okolo \emph{hostingu} a databází bude zprostředkovávat Firebase, jelikož je to v rámci
  dlouhodobého hlediska nejjednodušší a hlavně nejlevnější řešení. Maturitní část (DMP) budu zcela
  spravovat já, mám proto pronajatý vlastní server, na kterém budu zprostředkovávat \emph{hosting} a
  \emph{backend} služby, nicméně všechna data budou poskytována a požadována z databází komerční
  části.
 
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{project_structure.png}
  \begin{center}
    Obr.10 -  Diagram popisující strukturu projektu. Vlevo je část komerční, vpravo maturitní \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}
  
  \section{Komerční část}
  Jedná se o část projektu, která ke svému fungování využívá kompletně služeb Firebase.
  Jde o ostrou verzi systému, která bude přístupná pod doménou zákazníka pro uživatele z vnější sítě, kteří budou moci se stránkou 
  interagovat a prohlížet si fotografie, které pan fotograf nahraje a uloží.
  \section{Maturitní část}
  Ačkoliv je tato část spuštěná na mém privátním virtuálním serveru, ani tak není zcela
  nezávislá na Firebase, jelikož využívá data z Firebase Firestore. To by se dalo vyřešit
  například spuštěním instance No-SQL databáze MongoDB, která funguje na podobném principu jako 
  Firestore, a fotografie, které by uživatel této instance nahrál na server, by se jednoduše ukládaly
  do předem připraveného adresáře na lokálním úložišti. Nicméně pro jednodušší nastavování a z důvodu nutnosti
  přepracovat celý kód jak webu tak i \emph{CMS}, jsem se rozhodl zůstat u Firebase co se dat týče. 
  Téměř veškeré funkcionality, které obsahuje komerční instance projektu, obsahuje i tato maturitní část, 
  jediná věc co chybí, je \emph{SSL} certifikát a vlastní doména. I když by bylo poměrně jednoduché obojí přidat,
  domény jsou placené a já bohužel žádnou doménu zatím nevlastním.
 
  \chapter{Průběh vývoje}
  Vývoj obou systémů, který započal v dubnu roku 2021 jsem se snažil provádět co nejvíce agilně. To znamená,
  že se odehrával v takzvaných sprintech, kde jeden sprint je časový úsek pro implementaci a vyladění požadované změny.
  Nicméně častokrát se stalo, že jsme spolu se zákazníkem označili právě probíhající sprint za dokončený (já jsem implementoval změnu a zákazník ji označil za odpovídající), ale za pár dní mi 
  přišel email s tím, že se zákazníkovi tato změna nakonec nelíbí a chtěl by ji změnit. Nicméně i když se jedná o lehce kontraproduktivní chování, 
  je to zcela běžné i během vývoje mnohem větších a komplexnějších projektů a musí se s tím počítat. Proto je dobré, že je celý projekt modulární a není až tak složité implementovat změnu.
  
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{agile.png}
  \begin{center}
    Obr.11 -  Princip fungování agiliního vývoje, který se odehrává v takzvaných sprintech \\
    (Zdroj: netmagnet.cz)
  \end{center}
  \vspace*{0.5cm}
 
  Vývoj obou systémů začal nejprve ve vanilla Javascriptu, bez použítí jakéhokoliv \emph{frameworku}, což
  se jevilo jako nejjednodušší řešení, jelikož jsem tehdy neuměl používat žádný \emph{framework}. Čistý Javascript 
  je pro projekt, jako je webová stránka více než
  dostačující, nicméně vzhledem k modulárnosti a mnoha dalším vylepšením, které \emph{framework} jako například Gatsby.js přidává,
  bych jej v případě, že bych měl vytvořit webovou stránku, použil.
  Nicméně se změnami a složitějšími funkcionalitami, které jsem postupně přidával do administračního systému, se zdrojový kód začal jevit
  poměrně nepřehledným, a proto jsem se rozhodl, že jej refaktoruji do Reactu, který nejen zvýší celkovou rychlost a \emph{performance} systému, 
  ale také přehlednost struktury souborů a kódu,
  což se nakonec vyplatilo, protože nyní mám jasný přehled o tom, kde co je a jakým způsobem to funguje.

  \section{Komunikace se zákazníkem}
  Komunikace se zákazníkem probíhala primárně a nejvíce prostřednictním mailů,
  což se mi během vývoje velmi osvědčilo, jelikož všechny informace byly sepsány přehledně
  na jednom místě a bylo jasné, na čem jsme se domluvili. Proběhlo i několik telefonních hovorů, od kterých jsme ale nakonec pro jejich
  nepřehlednost upustili.
 
  \section{Organizace úkolů a změn k implementaci}
  Jakmile jsem dostal od zákazníka nějaký požadavek, ať už ve formě e-mailu nebo telefonátu, okamžitě jsem si jej 
  zapsal a následně přidal do úkolníčku. Těch jsem během vývoje vyzkoušel několik, ale nejvíc se mi osvědčil 
  Todoist pro jeho přehlednost a jednoduché ovládaní. Dá se v něm jednoduše nastavit priorita daného úkolu a ty se dají rozdělit
  do projektu, což je velké plus a uživatel tak nemá na hlavní stránce změť úkolů, které například ani nesouvisejí s projektem, na kterém zrovna pracuje.
  Jediná nevýhoda, kterou Todoist má, je absence upozornění na dobu nastaveného zpracování úkolu. 

  \chapter{Webová prezentace}
  Webová prezentace bude panu fotografovi sloužit jako virtuální galerie fotek, aby lidé, které jeho
  tvorba zajímá, měli všechny jeho fotografie na ``dosah ruky`` a vzhledem k tehdejší koronavirové
  situaci je více než vhodné, aby nemuseli chodit přímo na výstavu.
  Samotná webová prezentace obsahuje přesně to, co obsahovala ta stávající, tedy, hlavní stránku,
  na které je jen galerie z alba ``Hlavní``, jelikož se jedná o fotografie, které se panu fotografovi líbí
  nejvíce a o kterých si myslí, že by mohly oslovit nejvíce lidí. Po kliknutí na náhledovou fotografii se
  spustí galerie, která avšak nedovoluje rozkliknout informační box s více informacemi o dané
  fotografii.
  Data, které web používá ke svému fungování nejsou dynamická, jelikož by to z principu fungování
  statické webové stránky nemělo smysl. Data se stahují z databáze ve chvíli, kdy uživatel přijde na
  stránku poprvé. To znamená, že pokud uživatel nahraje novou fotografii, změny na webu se
  projeví až ve chvíli, kdy uživatel stránku znovu načte.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{dmp-bures.png}
  \begin{center}
    Obr.12 -  Hlavní stránka webové prezentace \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  Dále stránku ``Úvodem``, sloužící jako předmluva pro celý web, který má simulovat umělecké
  dílo spolu s jeho uměleckými fotografiemi. Tento text je samozřejmě editovatelný v
  administračním systému.
  
  Odkaz na stránku alba ``Nejnovější``. 
  Jak by se mohlo z názvu zdát, nejedná se o album s fotografiemi, které byly nahrány nedávno, ale 
  o fotografie, které byly nedávno vyfoceny. Ostatní alba totiž mohou obsahovat i fotografie, které byly
  vyfoceny před rokem 2000. To znamená, že se
  jedná o výběr fotografií, které pan fotograf nedávno vyfotil a rozhodl se, že je bude sdílet. Při
  vývoji této podstránky jsem musel vymyslet systém, jakým budu fotografie na webu zobrazovat,
  jelikož si zákazník přál, aby místo galerie, která je použita u všech ostatních alb, byla použita
  tabulka s náhledy fotografií. Abych tohoto docílil se správnou \emph{pagination}, musel jsem pole
  se všemi fotografiemi rozdělit na části po 6 fotografiích a poté je v těchto částech zobrazit na
  webu. Po kliknutí na náhled fotografie se však otevře galerie, jako u všech ostatních alb.
  
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{album.png}
  \begin{center}
    Obr.13 - Galerie po rozkliknutí náhledové fotografie  \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}
 
  Dále stránku ``Výstavy``, která obsahuje seznam všech výstav, na kterých pan fotograf kdy vystavoval
  své fotografie. Samozřejmě se jedná o editovatelný text.
  
  ``Biografie``\space popisuje dosavadní život pana fotografa společně s jeho fotografií.
  
  V poslední řadě ``Kontakt``, kde lze najít veškeré kontaktní možnosti. Formulář, který podstránka
  obsahuje, bude pomocí Firebase Functions posílat email a \emph{push notifikaci} panu fotografovi vždy,
  když mu někdo napíše email.
  \vfill
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{contact.png}
  \begin{center}
    Obr.14 -  Stránka s kontaktním formulářem \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  Jelikož je webová prezentace napsána ve vanilla Javascriptu, v budoucnu mám v plánu ji přepsat
  pomocí \emph{frameworku} Gatsby.js, který slouží pro generování statických \emph{HTML} stránek za použítí
  React.js, což bude mít za následek nejen mnohonásobně jednodušší budoucí vývoj, ale také
  rychlejší načítací časy.

  \section{Vanilla Javascript routing}
  Jelikož jsou alba dynamickými prvky a v databázi se jejich počet mění, bylo nutné implementovat systém, který
  umožní, aby si uživatel mohl zobrazit všechny vytvořená alba. Nejhorším řešením, které by mohlo být,
  je pokaždé, když uživatel administračního systému vytvoří nové album, ručně vytvořit nový \emph{HTML} dokument, který bude 
  obsahovat galerii s obsahem daného alba. Implementoval jsem tedy \emph{algoritmus}, který na základě \emph{id} obsažené v \emph{URL linku} alba vytáhne z
  databáze správný záznam o albu právě pomocí daného \emph{id}.
  \vfill

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{vanillaJsRoutingCodeblock.png}
  \begin{center}
    Obr.15 -   Ukázka algoritmu získávání správného alba \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  Funguje to tak, že uživatel webové stránky klikne v menu na odkaz alba, který obsahuje \emph{id} alba, na které chce uživatel přejít.
  Tyto data, název a odkaz na album, jsou stáhnuty z databáze ve chvíli, kdy uživatel přijde na stránku poprvé.
  Po kliknutí je přesměrován na podstránku \emph{collections}, která podle \emph{id} obsaženého v \emph{URL linku}
  zjistí přesně které album chce uživatel vidět a jeho data \emph{vyrenderuje} v podobě galerie do dokumentu.
  Ve své podstatě se jedná o podobný princip, jakým funguje React Router.

  \chapter{Administrační systém}
 
  Administrační systém je systém, který zprostředkovává manipulaci s daty, které se objevují na
  dané webové stránce. Jednoduše řečeno, díky administračnímu systému je uživatel schopen své
  fotografie nahrávat, mazat, upravovat jejich název a popis, stejně tak uvidí, která z nich je
  nejvíce oblíbená na základě lajků a podobně. Dále administrační systém obsahuje funkcionalitu
  pro manipulaci s alby, do kterých bude uživatel své fotografie rozdělovat. Ty samozřejmě může
  obdobně vytvářet, mazat a upravovat jejich fotografický obsah. V neposlední řadě systém
  obsahuje i informační nástěnku, kde je velmi dobře vidět například kolik fotografií je v danou chvíli
  nahraných na webu a v jakých albech, kolik úložného prostoru jeho fotografie zabírají a nebo
  třeba seznam posledních nahraných fotografií, aby je nemusel hledat.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{admin.png}
  \begin{center}
    Obr.16 -   Ukázka nástěnky administračního systému \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  Všechny data, se kterými uživatel pracuje, jsou zobrazována v reálném čase, což znamená, že
  pokud, například upraví název fotografie, tato změna se ihned projeví jak v samotném
  administračním systému, tak v databázi a tím pádem i na webové stránce.
  Díky Firebase \emph{Auth} se do systému nedostane uživatel, který není autentifikovaný, tedy přihlášený.
  Prozatím celý autentifikační systém funguje za pomocí emailu a hesla, jelikož web spravuje jeden
  člověk a není potřeba, abych implementoval například autentifikaci pomocí Google či jiného již
  existujícího účtu.
  Celá aplikace je ``obalená``\space v \emph{auth elemementu}, který po úspěšném přihlášení (ověří se, zda
  uživatel existuje na Firebase \emph{Auth} serveru) uchovává informace o přihlášeném uživateli a pokud
  záznam o tomto uživateli existuje, \emph{auth element} jej pustí dál, jinak bude přesměrován zpět na
  přihlašovací obrazovku.
  Administrační systém obsahuje veškeré nástroje k tomu, aby uživatel mohl manipulovat s
  fotografiemi a alby, které nahraje a vytvoří. Po nahrání jedné či více fotografií se tyto fotografie
  objeví na podstránce ``Fotografie``\space v přehledném seznamu. Kliknutím na jednotlivé fotografie se
  uživatel dostane na stránku pro manipulaci s jednotlivou fotografií, kde ji může přejmenovat,
  přidat popis, přiřadit do alba nebo ji z alba odstranit, a nebo fotografii odstranit úplně. Také lze
  vidět metadata fotografie, jako například kdy byla nahrána, či případně kolikrát ji návštěvníci
  webové prezentace udělili ``lajk``.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{allPhotos.png}
  \begin{center}
    Obr.17 - Stránka se seznamem všech nahraných fotografií \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{imageManipulator.png}
  \begin{center}
    Obr.18 - Stránka pro manipulaci s jednotlivou fotografií \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{albums.png}
  \begin{center}
    Obr.19 -  Stránka se všemi aktuálně vytvořenými alby \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \section{Využití frameworku React.js}
  Administrační systém byl v raných fázích vývoje vyvíjen jen za pomocí čistého Javascriptu a
  jelikož tento přístup postupem času a komplexnosti projektu začal snižovat přehlednost i 
  celkovou jednoduchost vývoje, celá aplikace byla přepsána a refaktorována za pomocí 
  \emph{frameworku} React.js, ale například \emph{algoritmy} pro ukládání nebo získávání dat z databáze se nezměnily.

  Díky tomu se celkové načítací časy zmenšily, protože pokud například uživatel změnil \emph{endpoint}, celá aplikace se 
  nemusela načítat znovu, jelikož z principu fungování Reactu již načtená celá byla a tudíž to nebylo potřeba. 
  Dále také načítací časy obrázků zaznamenaly pokles, protože React pracuje velmi dobře s rychle měnícími se
  daty a například stahování, \emph{cacheování} a následné zobrazování obrázků umí rychleji, než uměla moje vanilla implementace.
  
  \subsection{React.js vs Vanilla Javascript}
  Není tajemstvím, že co se celkové \emph{performance} týče, bude React vždy pomalejší, než čistý vanilla Javascript, už jen 
  z toho důvodu, že je React svým způsobem nadstavbou nad Javascriptem a během \emph{runtime} provádí mnohem více operací, než čistý Javascript.
  Nicméně co se tzv. \emph{developer experience} týče, vyvíjení webových aplikací ale i webů je díky Reactu mnohem jednodušší, než jen
  za pomoci čistého Javascriptu, jelikož celý kód je rozdělen do takzvaných komponent, které fungují jako stavební kameny aplikace a jednoduše se 
  do ní vkládají a vývojář má tak přesný a jasný přehled o struktuře projektu. 

  Dalším základním rozdílem je způsob, jakým React oproti projektu používající jen vanilla Javascript funguje.
  Projekt s vanilla Javascriptem je rozdělen na více \emph{HTML} dokumentů (například podle počtu podstránek) a každý z nich má svůj vlastní 
  Javascript soubor, který se spustí ve chvíli, kdy se daný \emph{HTML} dokument načte.
  Nicméně React na druhou stranu má jen jediný \emph{HTML} dokument, který obsahuje jeden Javascriptový soubor a podle toho,
  který \emph{endpoint} uživatel vyžádá (navštíví) se obsah \emph{HTML} dokumentu změní na danou komponentu typu \emph{route}.
  Na tomto principu funguje React Router, díky kterému se obsah stránky nemusí načítat pokaždé, kdy uživatel danou stránku vyžádá,
  nýbrž se jednoduše ``překreslí``.
 
  \chapter{VPS - Virtual Private Server}
   Pro potřeby práce jsem si pronajal a nakonfiguroval vlastní server, který kopíruje veškeré funkcionality
   Firebase. Zajišťuje \emph{hosting} pomocí softwarového webového serveru Nginx, díky čemuž si na adrese \emph{VPS} může
   zobrazit webovou stránku i modifikovat její obsah přes administrační systém. Kromě toho na \emph{VPS} běží i Node.js \emph{backend server},
   díky kterému bude moct uživatel této instance projektu odesílat emaily panu fotografu bez použití email serveru třetí strany. 
   De-facto se jedná o druhou instanci komerčního projektu pro pana fotografa. 
  \section{VPS provideři}
  Na trhu je mnoho \emph{cloud computing providerů}, nabízejích virtuální počítače
  v nejrůznějších početně výkonnostních kategoriích. Mezi nejznámější patří Digital Ocean,
  Linode, Hostinger nebo Amazon Cloud, kterému jsem se chtěl ale zámerně vyhnout, jelikož se mi vůbec nelíbí 
  prostředí, ve kterém uživatel své \emph{VMs} spravuje a jejich ceník je poměrně nepřehledný.
  \begin{center}
    \noindent\begin{tabular}{|l|l|l|l|l|}
      \multicolumn{1}{c}{\bfseries Provider} & \multicolumn{1}{c}{\bfseries Cena/měsíc} & \multicolumn{1}{c}{\bfseries Disk} & \multicolumn{1}{c}{\bfseries RAM} & \multicolumn{1}{c}{\bfseries Transfer (\$/GB)} \\ \hline
      Digital Ocean & \$5 & 25GB & 1GB & \$0.01 \\ \hline
      Hostinger & \$3.95 & 20GB & 1GB & Do 1TB/měšíc zdarma \\ \hline
      Linode & \$5 & 25GB & 1GB & Do 1TB/měsíc zdarma \\ \hline
      A2 & \$8.99 & 150GB & 1GB & Do 2TB/měsíc zdarma \\ \hline
    \end{tabular}\\
    \vspace{0.5cm}
    Tabulka popisující rozdíly mezi nabídkami jednotlivých cloud computing providerů  \\
    (Zdroj: Autor práce)
  \end{center}
  Já jsem se rozhodl pro DigitalOcean, jelikož s nimi mám již předešlou 
  zkušenost a jejich prostředí pro správu virtuálních počítačů mi ze všech 
  konkurenčních providerů přijde nejvíce intuitivní a přehledné, spolu s ceníkem, 
  který neobsahuje žádné lsti. Jejich cena není ze všech uvedených na listu nejlevnější,
  ale jedná se o kvalitní službu, která je této ceně adekvátní.  
  \section{Konfigurace VPS}
  \subsection{Operační systém GNU/Linux}
  V dnešní době je jako serverový operační systém nejvíce rozšířený \emph{GNU}/Linux pro jeho
  minimalističnost a poměrně jednoduchou konfiguraci.\\ Podle hostingtribunal.com až 96\% serverů z
  1 milionu celosvětově nejpoužívanějších serverů používá Linux jako svůj operační systém a proto
  jsem se i já rozhodl použít Linux a nejen z toho důvodu, že jej každodenně používám.
  \subsubsection{Debian 11}
  Původně jsem na svůj \emph{VPS} chtěl nainstalovat Arch Linux, jelikož se jedná o Linuxovou distribuci, kterou každodenně používám, nicméně má jednu velkou
  nevýhodu - nemá vlastní instalátor (i když nyní již existuje instalační \emph{script}), což mě osobně při
  instalaci v domácích lokálních podmínkách vůbec nevadilo, ale v případě instalování Arche na \emph{VPS}
  by to znamenalo, že bych musel mít vlastnoručně přizpůsobené \emph{ISO}, které bych použil k instalaci,
  jelikož DigitalOcean nenabízí Arch k nainstalování na jejich \emph{VPS}, které nazývají Droplets.
  Volba tedy padla na Debian 11, jelikož je v jeho minimalistické instalaci poměrně ``čistý`` \space a tudíž
  neobsahuje zbytečné programy a podobně (bloatware). Vzhledem k tomu, že tento ``počítač`` \space bude
  sloužit jako server, není potřeba a je až zbytečné instalovat jakékoli desktopové prostředí \emph{GUI},
  jelikož by to mělo za následek zvýšení požadavků na výpočetní
  výkon serveru, což je nežádoucí, jelikož chceme, aby operační systém serveru zabíral co nejméně
  prostoru a prostředků, a zároveň celá konfigurace systému je proveditelná jen za pomoci
  příkazové řádky \emph{CLI}. Na obrázku pod lze vidět, že \emph{CLI-only} (bez \emph{GUI}) Debian v idle
  stavu (stavu, kdy neprovádí žádné operace) zabírá na paměti RAM jen 89MB z dostupného 1GB,
  tedy necelých 10\%.
  \vfill
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{VPS.png}
  \begin{center}
    Obr.20 -  Diagnostický nástroj Neofetch zobrazující základní informace o systému po tom, co se na něj připojíme pomocí protokolu SSH  \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \subsection{Vytvoření developer uživatele}
  Tento uživatel bude využíván jako správce celého vývojového i produkčního prostředí a bude mít skoro stejná
  práva jako root (administrátor systému). \\
  \begin{bash}
    useradd -m developer
    passwd developer
  \end{bash}
  Aby developer mohl naplno využívat systém, je potřeba, aby mohl používat sudo , které bylo díky
  Digital Ocean předinstalováno. Přídáme jej tedy do sudoers skupiny.\\
  \begin{bash}
    usermod -aG sudo developer
  \end{bash}
  \clearpage
  A ověříme, že vše správně dopadlo:\\
  \begin{bash}
   su developer
   sudo -l
   [sudo]:
   User developer may run the following commands on dmp-milan-bures:
   (ALL : ALL) ALL
  \end{bash}


  \subsection{Konfigurace prostředí}
  \subsubsection{Shell}
  Vzhledem k tomu, že během práce s \emph{VPS} používám git, který funguje na takzvaných větvích, je dobré vědět, se kterou větví právě pracuji.
  Proto nainstaluji jiný \emph{shell}, který mi dovolí si jednoduše upravit příkazovou řádku.
  \begin{bash}
    sudo apt-get install zsh
  \end{bash}
  Zsh neboli Z-shell je mocný příkazový \emph{shell} který odemyká mnoho možností ať už po stránce přizpůsobení vzhedu ale také vylepšení funkcí.
  V kombinaci s \emph{open-source} projektem oh-my-zsh jsem schopen změnit nejen vzhled celé příkazové řádky, ale také přidat \emph{pluginy} jako napřílad 
  git, který mi, pokud se v aktuálním adresáři nachází .git soubor(soubor, který inicializuje složku jako git repozitář), zobrazí aktuálně zvolenou 
  větev. Oh-my-zsh nainstaluji pomocí nástroje \emph{wget} přímo z oh-my-zsh \emph{repozitáře} na GitHubu, který poté spustí instalační \emph{script}.
  
  \begin{bash}
    wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh
    sh install.sh
  \end{bash}

  \subsubsection{Git a verzovací systém}
  Git je \emph{open-source} nástroj pro správu verzí zdrojového kódu anebo jeho součástí vytvořený Linusem Torvaldsem. 
  Jednoduše řečeno jedná se o software, který sleduje změny v souborech, aby pak měl uživatel/vývojář 
  větší přehled o tom, jaké změny provedl. V současnosti se git nejvíce používá pro kolaboraci mezi vývojáři na \emph{open-source}
   ale i \emph{closed-source} projektech, jelikož git samotný je \emph{open-source}, tudíž jej může kdokoliv využívat na svém interním serveru.
  Vzhledem k tomu, že z \emph{VPS} nebudu pushovat žádné změny do remote repositáře, nebylo potřeba provádět žádnou pokročilejší konfiguraci 
  a git stačí jen nainstalovat.
  \begin{bash}
    sudo apt-get install git
  \end{bash}
  Jediné, co jsem nakonfigurovat musel je zachování přihlašovacích údajů tak, aby se git nemusel pokaždé při každém \emph{pullu} dotazovat
   na přihlašovací údaje k \emph{remote repository} serveru, v mém případě ke Githubu.
  \begin{bash}
    git config --global credential.helper store
  \end{bash}
  \subsubsection{Node.js a NPM}
  Javascript samotný je spustitelný jen v prohlížeči, kde vetšinou plní funkci logického ``mozku``\space webové stránky a provádí logické operace. 
  Díky tomu avšak nemá moc jiného využití, což Node.js mění.
  Node.js je Javascript \emph{runtime}, díky kterému můžeme spustit Javascriptový 
  kód i mimo prohlížeč, jako například v příkazové řádce, podobně jako ostatní scriptovací ale i programovací jazyky,jako například Python nebo Java.
 
  Umožňuje nám vyvíjet \emph{API} servery pro webové stránky i webové aplikace. 
  Jelikož je webová prezentace i administační systém serverless, není sám o sobě Node.js potřeba pro správnou funkčnost systému,
   ale vzhledem k faktu, že
  používám third-party \emph{knihovny} a \emph{pluginy} jako například webpack, musím Node.js nainstalovat. Tyto knihovny a další podpůrné programy 
  lze nainstalovat pomocí takzvaného Node Package Manageru (Správce balíčků pro Node.js), neboli NPM.
  \begin{bash}
    sudo apt-get install nodejs npm
  \end{bash}
  Zjistíme verzi Node.js:
  \begin{bash}
    node -v
    [node]: v12.22.5
  \end{bash}
  \clearpage
  A jelikož verze 12 není nejnovější, musím aktualizovat na nejnovější stable verzi, jinak by se totiž mohlo stát, 
  že nějaká z \emph{dependencies}, které v projektu používám, nebude se verzí 12 spolupracovat.
  \begin{bash}
    sudo npm i -g node
    sudo npm i -g npm
  \end{bash}
  A opět zkontrolujeme verzi Node.js:
  \begin{bash}
    node -v
    [node]: v16.14.0
  \end{bash}
  \subsubsection{Nginx}
  Nginx je \emph{open-source} softwarový webový server a  \emph{load balancer}, který se zaměřuje hlavně na co
  nejmenší konsumpci paměti a výkonu a skvěle zvládá velký nápor připojených zařížení.
  Nainstalujeme jej z Debian \emph{repozitářů}.
  \begin{bash}
    sudo apt-get install nginx
  \end{bash}
  A spustím pomocí systemctl.
  \begin{bash}
    sudo systemctl start nginx
  \end{bash}
  Nyní po úspěšném zapnutí Nginx se \emph{VPS} chová jako webový server a pokud v prohlížeči přejdu na adresu http://159.65.112.226/ (\emph{IP} adresa \emph{VPS}),
   zobrazí se přivítací obrazovka Nginx, což indikuje, že je všechno správně nakonfigurováno a funkční. 
  
  \section{Konfigurace CI/CD}
  \emph{CI} (Continuous Integration) a \emph{CD} (Continuous Delivery) je proces, který umožňuje nepřetržité 
  dodávání aktuální verze projektu k testování či produkčnímu spuštění. V praxi to znamená,
  že pokud tým vývojářů provede změnu a uloží ji do \emph{remote repozitáře}
  (místo pro ukládání zdrojových kódů v \emph{cloudu}), tato změna se automaticky projeví (\emph{deployne})
  na produkční server (server, na kterém je spuštěna aktuální verze projektu a je poskytována
  uživatelům z venčí).
  Poté, co provedu změnu v zdrojovém kódu webové prezentace nebo administračního systému a 
  tuto změnu nahraji pomocí verzovacího systému git do Github \emph{repozitáře}, je potřeba, aby se 
  tato změna projevila na produkčním serveru. K tomu využiji \emph{shell scripty} a Github actions hooky.

  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{CICD.jpg}
  \begin{center}
    Obr.21 - Diagram znázorňující princip fungování \emph{CI/CD}   \\
    (Zdroj: synopsys.com)
  \end{center}
  \vspace*{0.5cm}

  Celá operace probíhá tak, že jakmile vývojář (v tomto případě já) provede změny ve zdrojovém kódu
  a \emph{pushne} je do \emph{remote repozitáře}, Github Action detekují \emph{push} a spustí interní \emph{script} napsaný
  v jazyce \emph{YAML}, který se pomocí protokolu \emph{SSH} připojí s předem připravenými přihlašovacími
  údaji  na \emph{VPS}, kde spustí buildAndDeploy \emph{script}. Ten pomocí gitu \emph{pullne} změny na lokální úložiště 
  a spustí \emph{build scripty}, což znamená, že \emph{bundler} překompiluje zdrojové soubory projektu tak, aby byly 
  optimalizované pro použití v produkčním prostředí a aby je dokázal softwarový webový server nabízet uživatelům z vnější sítě.
  \vfill
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{CIDC_visualization.png}
  \begin{center}
    Obr.22 - Diagram zobrazující princip stahování poslední změny na lokální úložistě VPS \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \subsection{Naklonování projektu na lokální úložiště}
  Jelikož není nejlepším řešením mít inicializováný lokální klon git \emph{repozitáře} přímo ve složce, ze které 
  nabízím webové stránky do vnější sítě, vytvořím složku, ve které se bude klon \emph{repozitáře} nacházet a projekt do ní naklonuji.
  \begin{bash}
    mkdir ~/files
    cd files
    git clone https://github.com/[repository].git 
  \end{bash}
  
  Nyní mám na systému přesnou kopii projektu a proto vytvořím \emph{symlink}, který uložím do složky,
  kterou Nginx defaultně používá pro soubory nabízených webových stránek.

  \begin{bash}
    ln -s ~/files/dmp-bures/website/dist /var/www/dmpbures.cz
    ln -s ~/files/dmp-bures/dashboard/build /var/www/admin.dmpbures.cz
  \end{bash}

  \subsection{Nginx konfigurace pro web i administrační systém}
  Aby byl web i administrační systém přístupný z vnější sítě, je pro každý z těchto ``webů``\space nutné  vytvořit 
  vlastní konfigurační soubor aby Nginx věděl, kde se nacházejí jednotlivé zdrojové soubory a 
  pod jakou adresou mají být přístupné.
  Pro web i administrační systém vytvořím konfigurační soubor v adresáři ``/etc/nginx/sites-available``.
  
  \noindent\textbf{/etc/nginx/sites-available/dmpbures.cz}
  \begin{bash}
  server {
    listen 80;
    listen [::]:80;
    root /var/www/dmpbures.cz;
    index index.html;
    server_name dmpbures.cz www.dmpbures.cz;
    location / {
      try_files $uri $uri/ =404;
    }
  }
  \end{bash}

  \noindent\textbf{/etc/nginx/sites-available/admin.dmpbures.cz}
  \begin{bash}
  server {
    listen 81;
    listen [::]:81;
    root /var/www/admin.dmpbures.cz;
    index index.html;
    server_name admin.dmpbures.cz www.admin.dmpbures.cz;
    location / {
      try_files $uri $uri/ =404;
    }
  }
  \end{bash}
  
  Struktura konfiguračních souborů je poměrně jednoduchá a jasná: 
  \begin{enumerate}
    \item \textbf{listen} - Na jakém portu web poběží. Všimněte si prosím, že se porty webu a CMS liší, aby se navzájem nekryly a uživatel tak mohl přistoupit k oboum webům.
    \item \textbf{root} - Složka ve které se nachází zdrojové soubory dané stránky
    \item \textbf{index} - Soubor který slouží jako vstupní \emph{HTML} dokument (zobrazí se jako první)
    \item \textbf{server name} - Název serveru, pod jakým je web přístupný. V lokální síti by to bylo pod specifikovaným názvem, ve vnější v případě absence DNS záznamu pod IP VPS.
    \item \textbf{location} - Udává lokaci dalších souborů, jako například 404 stránky (která se zobrazuje, pokud vyhledávaná stránka neexistuje)
  \end{enumerate}

  Ve složce \emph{/etc/nginx/sites-available} se však nachází jen konfigurační soubory webů,
  které jsou podle názvu složky k dispozici, nicméně nejsou aktivně nabízeny uživatelům z vnější sítě. 
  Abych toho dosáhl, musím vytvořit kopii konfiguračních souborů ve složce \\ \emph{/etc/nginx/sites-enabled}, například pomocí symlinků.

  \begin{bash}
    ln -s /etc/nginx/sites-available/dmpbures.cz 
    /etc/nginx/sites-enabled/
    ln -s /etc/nginx/sites-available/admin.dmpbures.cz
     /etc/nginx/sites-enabled/
  \end{bash}

  Nyní mám nakonfigurovaný Nginx i weby, které má nabízet uživatelům z vnější sítě.
  Aby vše začalo fungovat, Nginx restartuji a ověřím konfiguraci.
  \begin{bash}
    nginx -t
    sudo systemctl restart nginx
    systemctl status nginx
  \end{bash}

  Po spuštění prohlížeče a vyhledání adresy http://159.65.112.226 provede prohlížeč
  požadavek na můj nyní nakonfigurovaný webový server, kde jej Nginx zachytí, přečte si adresu, kterou prohlížeč požaduje a 
  pošle zpět odpovídající \emph{HTML} soubor(y), v tomto případě, jelikož je defaultní port 80, webovou prezentací.
  Kdyby uživatel vyhledal adresu \\ http://159.65.112.226:81, webový server by odeslal zpět soubory administračního systému a uživatel by tak mohl editovat 
  obsah.
  \vfill
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{VPS_WEB.png}
  \begin{center}
    Obr.23 - Visualizace adresy, na které běží web díky VPS \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}
  \vspace*{0.5cm}
  \noindent\includegraphics[width=\linewidth]{VPS_CMS.png}
  \begin{center}
    Obr.24 - Visualizace adresy, na které běží administrační systém díky VPS \\
    (Zdroj: Autor práce)
  \end{center}
  \vspace*{0.5cm}

  \clearpage
  \section*{Závěr}
  Během vývoje tohoto projektu jsem se naučil mnoho nových věcí, které věřím, že mě v mém
  profesionálním životě posunuly dál, a jsem rád, že jsem si jako dlouhodobou maturitní práci
  vybral právě tento projekt. Mrzí mne však, že jsem začal pozdě s vývojem pomocí frameworku
  React.js, jelikož bych měl vývoj snazší a neztratil bych čas vyvíjením administračního systému ve
  vanilla Javascriptu a tím pádem bych se mohl soustředit na důležitější věci, než je opětovné
  vyvíjení systému, který jsem již jednou vytvořil.
  \section*{Summary}
  During the development process of this project, I have learned a lot of new things,
  which I firmly believe, have leveled up my professional skills  and I am very glad for this opportunity to have
  this kind of project as my maturita project. However, I am a little bit sad, that I did not start
  using React.js sooner, because the development would have been a lot easier and I would not have lost time 
  developing content management system using vanilla Javascript and thus I would have more time for a lot more important 
  things than creating a system, that I have already created.

  \chapter{Seznam obrázků}
  \noindent Obr.1 - Původní webová stránka \dotfill 12 \\
  \noindent Obr.2 - Mnou vytvořená webová stránka \dotfill 13 \\ 
  \noindent Obr.3 - Graf škálovatelnosti \dotfill 14 \\
  \noindent Obr.4 - Ukázka React.js komponenty \dotfill 16 \\ 
  \noindent Obr.5 - Ukázka stylování v CSS \dotfill 17 \\
  \noindent Obr.6 - Ukázka stylování v SCSS \dotfill 17 \\ 
  \noindent Obr.7 - Firebase Console nástěnka \dotfill 18 \\
  \noindent Obr.8 - Firebse Firestore \dotfill 19 \\ 
  \noindent Obr.9 - IsImage funkce \dotfill 20 \\ 
  \noindent Obr.10 - Diagram struktury projektu \dotfill 21 \\ 
  \noindent Obr.11 - Princip agiliního vývoje \dotfill 23 \\
  \noindent Obr.12 - Hlavní stránka webové  prezentace \dotfill 25 \\
  \noindent Obr.13 - Galerie \dotfill 26 \\
  \noindent Obr.14 - Kontakt \dotfill 27 \\ 
  \noindent Obr.15 - Vanilla Javascript routing \dotfill 28 \\ 
  \noindent Obr.16 - CMS nástěnka \dotfill 29 \\
  \noindent Obr.17 - CMS všechny nahrané fotografie \dotfill 30 \\
  \noindent Obr.18 - CMS manipulace s daty fotografie \dotfill 31 \\
  \noindent Obr.19 - CMS všechny alba \dotfill 31 \\
  \noindent Obr.20 - VPS SSH přivítací obrazovka \dotfill 36 \\
  \noindent Obr.21 - Princip fungování CI/CD \dotfill 40 \\
  \noindent Obr.22 - Princip fungování CI/CD na VPS \dotfill 41 \\
  \noindent Obr.23 - IP adresa webu na portu 80 \dotfill 44 \\
  \noindent Obr.24 - IP adresa CMS na portu 81 \dotfill 44 \\
 
  \chapter{Seznam tabulek}
  \noindent 01 - Tabulka popisující rozdíl mezi cloud computing providery \dotfill 34 \\
 
  \chapter{Seznam použitého softwaru}
    \begin{enumerate}
      \item \textbf{Microsoft Visual Studio Code} - IDE použité k vývoji celého projektu.   
      \item \textbf{LaTeX} - Markup jazyk pro psaní prací ve velké typografické kvalitě pomocí profesionály předdefinovaných typografických stylů.
      \item \textbf{Gimp} - Open-source rastrový editor pro editaci grafických objektů.
      \item \textbf{Typora} - Textový editor pro textové soubory typu Markdown pro jednodušší práci s nimi. 
      \item \textbf{Git} - Verzovací systém.
      \item \textbf{Github} - Server pro ukládání remote git repozitářů.
    \end{enumerate}

  \chapter{Seznam použité literatury}
  \begin{enumerate}
  
    \item \noindent YAML – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/YAML}
    
    \item \noindent URL - Wikipedia. [online]. Dostupné z: \url{https://en.wikipedia.org/wiki/URL}
    
    \item \noindent Secure Sockets Layer – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Secure\_Sockets\_Layer}
    
    \item \noindent What is the Document Object Model?. World Wide Web Consortium (W3C) [online]. Dostupné z: \url{https://www.w3.org/TR/WD-DOM/introduction.html}
    
    \item \noindent Symbolický odkaz – Wikipedie. [online].\\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Symbolický\_odkaz}

    \item \noindent Single-page application - Wikipedia. [online]. \\ Dostupné z: \url{https://en.wikipedia.org/wiki/Single-page\_application}

    \item \noindent  Běhové prosředí – Wikipedie. [online].\\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Běhové\_prosředí}
    
    \item \noindent Softwarový repozitář – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Softwarový\_repozitář}
  
    \item \noindent Preprocesor – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Preprocesor}

    \item \noindent  Vyvažování zátěže – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Vyvažování\_zátěže}
  
    \item \noindent DevOps – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/DevOps}
  
    \item \noindent Nasazení softwaru – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Nasazení\_softwaru}
  
    \item \noindent Commit (verzování) – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Commit\_(verzování}
  
    \item \noindent CI/CD Pipeline – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/CI/CD\_Pipeline}
  
    \item \noindent Cache – Wikipedie. [online]. \\ Dostupné z: \url{https://cs.wikipedia.org/wiki/Cache}
\end{enumerate}
  
  
  \chapter{Citace}\small
  \begin{enumerate}
    
  \item What Is CI/CD and How Does It Work? | Synopsys. Synopsys | EDA Tools, Semiconductor IP and Application Security Solutions [online]. Copyright ©2022 Synopsys, Inc. All Rights Reserved [cit. 22.04.2022]. 
  \\Dostupné z: \url{https://www.synopsys.com/glossary/what-is-cicd.html }\\
  
  \item 3 události v Net Magnetu a 3 rady pro podnikatele | Net Magnet. Kreativní internetová agentura Net Magnet – weby \& marketing | Net Magnet [online]. Copyright ©2022 [cit. 22.04.2022]. Dostupné z: \url{https://www.netmagnet.cz/blog/3-udalosti-3-rady-2019/}
  
  \end{enumerate}
\end{document}